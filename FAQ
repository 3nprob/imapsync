
+------------------+
| FAQ for imapsync |
+------------------+

=======================================================================
Q. We have found that the sent time and date have been changed to the 
   time at which the file was synchronised. 

R. I guess this is the case with Eudora but not with Mutt, no ?
Eurora shows by default the time the imap server received the email.
I think it is quite a strong behavior since the messages can
have travelled some time before the reception.

The sent time and date are given by the "Date:" header
and it is set most of the time by the MUA (Mail User Agent, 
Mutt, Eudora, Thunderbird etc.).

imapsync does not touch any header since the
header is used to identify the messages in
both parts.

Solutions: a) Don't use buggy Eudora
b) Use the --syncinternaldates option and keep using Eudora :-)

=======================================================================
Q. Does imapsync support IMAP over TLS (IMAPS)?

R. Not natively. 
but, 2 ways, at least :

a) There are patches in patches/ directory to do this 
   in imapsync code.
   I tried to include them but it broke my tests.
   It works but not always.

b) Use stunnel
   http://www.stunnel.org/
   Assuming there is an imaps (993) server on imap.foo.org,
   on your localhost machine (or bar machine) run :
       stunnel -c -d imap -r imap.foo.org:imaps
   or
       stunnel -c -d 143 -r imap.foo.org:993
   then use imapsync on localhost (or bar machine) imap (143) port.


=======================================================================
Q. I'm migrating from WU to Cyrus, and the mail folders are
under /home/user/mail but the tool copies everything in
/home/user, how can i avoid that?

R. Use
   imapsync ... --include '^mail'
or (better)
   imapsync ... --subscribed --subscribe


=======================================================================
Q. I'm migrating from WU to Cyrus, and the mail folders are
under /home/user/mail directory.  When imapsync creates the
folders in the new cyrus imap server, it makes a folder
"mail" and below that folder puts all the mail folders the
user have in /home/user/mail, i would like to have all those
folders directly under INBOX.

R. Use 
   imapsync ... --regextrans2 's/^mail/INBOX/' --dry
   look at the simulation and if all transformations seem
   good then remove the --dry option.


=======================================================================
Q. Migrating from Groupwise to Cyrus

R. By Jamie Neil:

I eventually managed to get the mail to migrate without errors using the 
following options:

--sep1 /
  - doesn't report separator so has to be set explicitly.

--nosyncacls
  - doesn't support ACLs.

--skipheader '^Content-Type'
  - MIME separator IDs seem to change every time a mail is accessed so 
this is required to stop duplicates.

--maxage 3650
  - some messages just don't seem to want to transfer and produce the 
perl errors I mentioned before. This prevents the errors, but the bad 
messages don't transfer.

Even though the mail migrated OK, there are a couple of gotchas with 
Groupwise IMAP:

1) Some of the GW folders are not real folders and are not available to 
IMAP, the main problem one being "Sent Items". I could find no way of 
coping the contents of these folders. The nearest I got was to create a 
"real" folder and copy/move the sent items into it, but imapsync still 
didn't see the messages (I think because there is something funny about 
the reported dates/sizes).
It think this problem has been rectified in GW6.5.

2) The "skipheader '^Content-Type'" directive is required to stop 
duplicate messages being created. GW seems to generate this field on the 
fly for messages that have MIME separators and so it's different every time.

3) Version 6.0.1 of the Groupwise Internet Connector sucks. I was 
getting server abends when I pushed it a bit hard! I eventually had to 
upgrade to 6.0.4 which seems to be a lot more stable.


=======================================================================

